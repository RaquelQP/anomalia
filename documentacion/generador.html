<!--
Ejemplos de códigos Unicode para probar en el generador:

| Carácter | Descripción                | Código Unicode      | Ejemplo de uso en URL                  |
|----------|----------------------------|---------------------|----------------------------------------|
| ⅼ        | “l” griega (letra ele)     | \u2113             | https://examp\u2113e.com               |
| о        | “o” cirílica               | \u043E             | https://g\u043Eogle.com                |
| а        | “a” cirílica               | \u0430             | https://p\u0430ypal.com                |
| –        | Guion largo Unicode        | \u2013             | https://micros\u2013ft.com             |
| ı        | “i” latina sin punto       | \u0131             | https://m\u0131crosoft.com             |
| Ι        | “I” griega mayúscula       | \u0399             | https://m\u0399crosoft.com             |
| Ο        | “O” griega mayúscula       | \u039F             | https://micr\u039Fsoft.com             |
| 0        | Cero (no Unicode, pero útil para camuflaje) | 0 | https://micros0ft.com                |

Puedes copiar el código Unicode (\uXXXX) en la URL de prueba para ver cómo la extensión lo detecta.
-->
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Generador de Enlaces con Unicode</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 2em;
      min-height: 100vh;
      box-sizing: border-box;
      line-height: 1.6;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 12px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(10px);
      padding: 2em;
    }
    
    h2 {
      color: #2c3e50;
      text-align: center;
      margin-bottom: 1.5em;
      font-size: 2.2em;
      font-weight: 700;
    }
    
    h3 {
      color: #34495e;
      margin-top: 1.5em;
      margin-bottom: 0.8em;
      font-size: 1.4em;
      font-weight: 600;
    }
    
    input, textarea {
      width: 100%;
      font-family: 'Courier New', monospace;
      margin-top: 1em;
      padding: 1em;
      box-sizing: border-box;
      border: 2px solid #e1e8ed;
      border-radius: 8px;
      font-size: 1em;
      transition: all 0.3s ease;
    }
    
    input:focus, textarea:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }
    
    .resultado {
      margin-top: 2em;
      background: #f8f9fa;
      border: 2px solid #e9ecef;
      border-radius: 8px;
      padding: 1.5em;
      white-space: pre-wrap;
      word-wrap: break-word;
      font-family: 'Courier New', monospace;
      font-size: 1.1em;
    }
    
    .resultado a {
      color: #667eea;
      text-decoration: none;
      font-weight: 600;
      padding: 0.3em 0.6em;
      background: #e3f2fd;
      border-radius: 4px;
      transition: all 0.3s ease;
    }
    
    .resultado a:hover {
      background: #667eea;
      color: white;
    }
    
    .tipografia {
      margin-top: 1em;
      font-size: 1em;
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 1em;
      word-wrap: break-word;
      border-radius: 0 8px 8px 0;
    }
    
    .alerta {
      color: #dc3545;
      font-weight: 600;
    }
    
    .info-box {
      background: #e8f4fd;
      border-left: 4px solid #2196F3;
      padding: 1.5em;
      margin-bottom: 1.5em;
      border-radius: 0 8px 8px 0;
      box-shadow: 0 2px 8px rgba(33, 150, 243, 0.1);
    }
    
    .warning-box {
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 1.5em;
      margin-bottom: 1.5em;
      border-radius: 0 8px 8px 0;
      box-shadow: 0 2px 8px rgba(255, 193, 7, 0.1);
    }
    
    .examples-box {
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      padding: 1.5em;
      margin-top: 2em;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }
    
    /* Tabla mejorada */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1em;
      background: white;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    
    th {
      background: #667eea;
      color: white;
      padding: 1em;
      text-align: left;
      font-weight: 600;
    }
    
    td {
      padding: 0.8em 1em;
      border-bottom: 1px solid #e9ecef;
    }
    
    tr:hover {
      background: #f8f9fa;
    }
    
    code {
      background: #f1f3f4;
      padding: 0.2em 0.4em;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      font-size: 0.9em;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      body {
        padding: 1em;
      }
      
      .container {
        padding: 1.5em;
      }
      
      h2 {
        font-size: 1.8em;
      }
      
      table {
        font-size: 0.9em;
      }
      
      th, td {
        padding: 0.6em !important;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Generador de Enlaces con Unicode</h2>
    <p style="text-align: center; color: #666; margin-bottom: 2em; font-size: 1.1em;">Herramienta de prueba para la extensión Anomalia</p>
    
    <div class="info-box">
      <h3>Instrucciones de uso</h3>
      <p><strong>¿Qué hace esta herramienta?</strong></p>
      <ul>
        <li>Te permite crear enlaces de prueba con caracteres Unicode para probar la extensión Anomalia</li>
        <li>Convierte códigos Unicode (\uXXXX) en caracteres reales</li>
        <li>Detecta automáticamente qué alfabetos Unicode estás usando</li>
        <li>Genera enlaces 100% seguros para pruebas</li>
      </ul>
      
      <p><strong>¿Cómo usarlo?</strong></p>
      <ol>
        <li>Escribe una URL en el campo de texto usando códigos Unicode (ej: <code>https://examp\u2113e.com</code>)</li>
        <li>La herramienta convertirá automáticamente los códigos Unicode en caracteres</li>
        <li>Verás el enlace resultante y qué alfabetos Unicode se detectaron</li>
        <li>Puedes hacer clic en el enlace para probarlo en Gmail/Outlook con Anomalia activada</li>
      </ol>
      
      <p><strong>¿Por qué es seguro?</strong></p>
      <ul>
        <li>Solo permite dominios reservados para pruebas: <code>example.com</code>, <code>test.com</code>, <code>example.org</code>, <code>example.net</code></li>
        <li>Estos dominios no pueden ser registrados por usuarios reales</li>
        <li>Perfecto para probar la detección de la extensión sin riesgos</li>
      </ul>
    </div>
    
    <div class="warning-box">
      <strong>⚠️ Advertencia:</strong> Esta herramienta es solo para fines educativos y de prueba con la extensión Anomalia.<br>
      Solo puedes generar enlaces con dominios reservados como <b>example.com</b>, <b>test.com</b>, <b>example.org</b> o <b>example.net</b>.<br>
      No debe usarse para crear enlaces con intención de engañar o perjudicar a otras personas.
    </div>
  <label for="unicodeInput">Introduce una URL de prueba con códigos Unicode (ej: https://examp\u2113e.com):</label>
  <input type="text" id="unicodeInput" placeholder="https://examp\u2113e.com" />

  <div class="resultado" id="renderedOutput"></div>
  <div class="tipografia" id="diagnosisOutput"></div>

  <div style="margin-top:2em; background:#fff; border:1px solid #ccc; padding:1em; font-size:0.98em;">
    <b>Ejemplos de códigos Unicode para probar:</b>
    <table style="margin-top:0.5em; border-collapse:collapse; width:100%;">
      <thead>
        <tr style="background:#f8f8f8;">
          <th style="border:1px solid #ccc; padding:4px;">Carácter</th>
          <th style="border:1px solid #ccc; padding:4px;">Descripción</th>
          <th style="border:1px solid #ccc; padding:4px;">Código Unicode</th>
          <th style="border:1px solid #ccc; padding:4px;">Ejemplo de uso en URL</th>
        </tr>
      </thead>
      <tbody>
        <tr><td style="border:1px solid #ccc; padding:4px;">ⅼ</td><td style="border:1px solid #ccc; padding:4px;">“l” griega (letra ele)</td><td style="border:1px solid #ccc; padding:4px;">\u2113</td><td style="border:1px solid #ccc; padding:4px;">https://examp\u2113e.com</td></tr>
        <tr><td style="border:1px solid #ccc; padding:4px;">о</td><td style="border:1px solid #ccc; padding:4px;">“o” cirílica</td><td style="border:1px solid #ccc; padding:4px;">\u043E</td><td style="border:1px solid #ccc; padding:4px;">https://g\u043Eogle.com</td></tr>
        <tr><td style="border:1px solid #ccc; padding:4px;">а</td><td style="border:1px solid #ccc; padding:4px;">“a” cirílica</td><td style="border:1px solid #ccc; padding:4px;">\u0430</td><td style="border:1px solid #ccc; padding:4px;">https://p\u0430ypal.com</td></tr>
        <tr><td style="border:1px solid #ccc; padding:4px;">–</td><td style="border:1px solid #ccc; padding:4px;">Guion largo Unicode</td><td style="border:1px solid #ccc; padding:4px;">\u2013</td><td style="border:1px solid #ccc; padding:4px;">https://micros\u2013ft.com</td></tr>
        <tr><td style="border:1px solid #ccc; padding:4px;">ı</td><td style="border:1px solid #ccc; padding:4px;">“i” latina sin punto</td><td style="border:1px solid #ccc; padding:4px;">\u0131</td><td style="border:1px solid #ccc; padding:4px;">https://m\u0131crosoft.com</td></tr>
        <tr><td style="border:1px solid #ccc; padding:4px;">Ι</td><td style="border:1px solid #ccc; padding:4px;">“I” griega mayúscula</td><td style="border:1px solid #ccc; padding:4px;">\u0399</td><td style="border:1px solid #ccc; padding:4px;">https://m\u0399crosoft.com</td></tr>
        <tr><td style="border:1px solid #ccc; padding:4px;">Ο</td><td style="border:1px solid #ccc; padding:4px;">“O” griega mayúscula</td><td style="border:1px solid #ccc; padding:4px;">\u039F</td><td style="border:1px solid #ccc; padding:4px;">https://micr\u039Fsoft.com</td></tr>
        <tr><td style="border:1px solid #ccc; padding:4px;">0</td><td style="border:1px solid #ccc; padding:4px;">Cero (no Unicode, pero útil para camuflaje)</td><td style="border:1px solid #ccc; padding:4px;">0</td><td style="border:1px solid #ccc; padding:4px;">https://micros0ft.com</td></tr>
      </tbody>
    </table>
    <div style="margin-top:0.5em; color:#555; font-size:0.97em;">Puedes copiar el código Unicode (\uXXXX) en la URL de prueba para ver cómo la extensión lo detecta.</div>
  </div>

  <div style="margin-top:2em; background:#fff3cd; border-left:4px solid #ffc107; padding:1em;">
    <h3>Ejemplos prácticos para probar</h3>
    <p><strong>Prueba estos enlaces en Gmail o Outlook con Anomalia activada:</strong></p>
    <ul>
      <li><strong>Camuflaje tipográfico:</strong> <code>https://micros0ft.example.com</code> (cero en vez de "o")</li>
      <li><strong>Carácter griego:</strong> <code>https://g\u043Eogle.example.com</code> ("o" cirílica)</li>
      <li><strong>Letra griega:</strong> <code>https://examp\u2113e.example.com</code> ("l" griega)</li>
      <li><strong>Guion Unicode:</strong> <code>https://micros\u2013ft.example.com</code> (guion largo)</li>
      <li><strong>Carácter sin punto:</strong> <code>https://m\u0131crosoft.example.com</code> ("i" sin punto)</li>
    </ul>
    
    <p><strong>¿Qué deberías ver?</strong></p>
    <ul>
      <li>Enlaces marcados en rojo por Anomalia</li>
      <li>Panel informativo al pasar el ratón</li>
      <li>Mensajes explicando qué tipo de caracteres se detectaron</li>
      <li>Datos registrales del dominio (si están disponibles)</li>
    </ul>
  </div>

  <script>
    const input = document.getElementById('unicodeInput');
    const output = document.getElementById('renderedOutput');
    const diagnosis = document.getElementById('diagnosisOutput');

    function renderUnicode(str) {
      return str.replace(/\\u([0-9a-fA-F]{4})/g, (_, hex) =>
        String.fromCharCode(parseInt(hex, 16))
      );
    }

    function detectarBloquesUnicode(str) {
      const bloques = {
        'Cirílico': [0x0400, 0x04FF],
        'Suplemento cirílico': [0x0500, 0x052F],
        'Griego': [0x0370, 0x03FF],
        'Armenio': [0x0530, 0x058F],
        'Hebreo': [0x0590, 0x05FF],
        'Latino': [0x0000, 0x007F]
      };

      const detecciones = {};

      for (const char of str) {
        const code = char.charCodeAt(0);
        for (const nombre in bloques) {
          const [inicio, fin] = bloques[nombre];
          if (code >= inicio && code <= fin) {
            detecciones[nombre] = true;
          }
        }
      }

      return Object.keys(detecciones);
    }

    function esDominioSeguro(url) {
      try {
        const u = new URL(url);
        return [
          'example.com',
          'test.com',
          'example.org',
          'example.net'
        ].includes(u.hostname.replace(/^www\./, ''));
      } catch {
        return false;
      }
    }

    input.addEventListener('input', () => {
      const raw = input.value;
      const decoded = renderUnicode(raw);
      let esSeguro = false;
      let mensaje = '';
      try {
        esSeguro = esDominioSeguro(decoded);
      } catch {}

      if (!esSeguro) {
        output.innerHTML = '<span class="alerta">Solo se permiten dominios de prueba: example.com, test.com, example.org, example.net</span>';
        diagnosis.innerHTML = '';
        return;
      }

      // Mostrar enlace clicable seguro
      output.innerHTML = `<a href="${decoded}" target="_blank">${decoded}</a>`;

      const tipos = detectarBloquesUnicode(decoded);
      if (tipos.length > 0) {
        diagnosis.innerHTML = `<span class="alerta">⚠ Detectado alfabeto(s):</span> ${tipos.join(', ')}`;
      } else {
        diagnosis.innerHTML = `<span class="alerta">✅ Sin grafías sospechosas detectadas.</span>`;
      }
    });
  </script>
</body>
</html>